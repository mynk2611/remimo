
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
id              Int     @id @default(autoincrement())
name            String?  
email           String?  @unique
number          String  @unique
password        String  
balance         Balance[]
onRamp          OnRamp[]
transaction     Transaction[] 
}

model Merchant {
id        Int   @id @default(autoincrement())
email     String @unique
name      String?
auth_Type AuthType
}

model Balance {
  id      Int     @id @default(autoincrement())
  userId  Int @unique
  amount  Int
  locked  Int
  user    User   @relation(fields: [userId], references: [id])
}

model OnRamp {
id     Int     @id @default(autoincrement())
userId Int 
user   User   @relation(fields: [userId], references: [id])
provider String
status   onrampStatus
startDate DateTime
token    String  @unique
amount   Int
}

model Transaction {
  id        Int   @id  @default(autoincrement())
  userId    Int
  user      User @relation(fields: [userId], references: [id])
  amount    Int
  type      transactionType
  from      String
  to        String
  startDate DateTime
  status    transactionStatus
  remark    String?
}

enum AuthType {
  Google
  Github
}

enum onrampStatus {
  pending
  success
  failure
}

enum transactionStatus {
  success
  failure
}

enum transactionType {
  Credit
  Debit
}